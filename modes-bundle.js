!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=46)}({0:function(t,n,e){"use strict";e.d(n,"a",(function(){return b})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return $})),e.d(n,"d",(function(){return w})),e.d(n,"e",(function(){return M})),e.d(n,"f",(function(){return y})),e.d(n,"g",(function(){return E}));const r=(t,n)=>Array(Math.abs(n)+1).join(t);function o(t,n,e){return function(...r){return console.warn(`${t} is deprecated. Use ${n}.`),e.apply(this,r)}}function i(t){return null!==t&&"object"==typeof t&&"string"==typeof t.name}function a(t){return null!==t&&"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const s=[0,2,4,-1,1,3,5],m=s.map(t=>Math.floor(7*t/12));function u(t){const{step:n,alt:e,oct:r,dir:o=1}=t,i=s[n]+7*e;return void 0===r?[o*i]:[o*i,o*(r-m[n]-4*e)]}const c=[3,0,4,1,5,2,6];function l(t){const[n,e,r]=t,o=c[function(t){const n=(t+1)%7;return n<0?7+n:n}(n)],i=Math.floor((n+1)/7);return void 0===e?{step:o,alt:i,dir:r}:{step:o,alt:i,oct:e+4*i+m[o],dir:r}}const f={empty:!0,name:"",pc:"",acc:""},d=new Map,h=t=>"CDEFGAB".charAt(t),P=t=>t<0?r("b",-t):r("#",t),p=t=>"b"===t[0]?-t.length:t.length;function M(t){const n=d.get(t);if(n)return n;const e="string"==typeof t?function(t){const n=y(t);if(""===n[0]||""!==n[3])return f;const e=n[0],r=n[1],o=n[2],i=(e.charCodeAt(0)+3)%7,a=p(r),s=o.length?+o:void 0,m=u({step:i,alt:a,oct:s}),c=e+r+o,l=e+r,d=(A[i]+a+120)%12,h=void 0===s?-100:s,P=A[i]+a+12*(h+1),M=P>=0&&P<=127?P:null,g=void 0===s?null:440*Math.pow(2,(P-69)/12);return{empty:!1,acc:r,alt:a,chroma:d,coord:m,freq:g,height:P,letter:e,midi:M,name:c,oct:s,pc:l,step:i}}(t):a(t)?M(function(t){const{step:n,alt:e,oct:r}=t,o=h(n);if(!o)return"";const i=o+P(e);return r||0===r?i+r:i}(t)):i(t)?M(t.name):f;return d.set(t,e),e}const g=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function y(t){const n=g.exec(t);return[n[1].toUpperCase(),n[2].replace(/x/g,"##"),n[3],n[4]]}function b(t){return M(l(t))}const A=[0,2,4,5,7,9,11];const v={empty:!0,name:"",acc:""},x=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const _={};function w(t){return"string"==typeof t?_[t]||(_[t]=function(t){const n=function(t){const n=x.exec(`${t}`);return null===n?["",""]:n[1]?[n[1],n[2]]:[n[4],n[3]]}(t);if(""===n[0])return v;const e=+n[0],r=n[1],o=(Math.abs(e)-1)%7,i=C[o];if("M"===i&&"P"===r)return v;const a="M"===i?"majorable":"perfectable",s=""+e+r,m=e<0?-1:1,c=8===e||-8===e?e:m*(o+1),l=function(t,n){return"M"===n&&"majorable"===t||"P"===n&&"perfectable"===t?0:"m"===n&&"majorable"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?-1*("perfectable"===t?n.length:n.length+1):0}(a,r),f=Math.floor((Math.abs(e)-1)/7),d=m*(j[o]+l+12*f),h=(m*(j[o]+l)%12+12)%12,P=u({step:o,alt:l,oct:f,dir:m});return{empty:!1,name:s,num:e,q:r,step:o,alt:l,dir:m,type:a,simple:c,semitones:d,chroma:h,coord:P,oct:f}}(t)):a(t)?w(function(t){const{step:n,alt:e,oct:o=0,dir:i}=t;if(!i)return"";const a=n+1+7*o,s=i<0?"-":"",m="M"===C[n]?"majorable":"perfectable";return s+a+function(t,n){return 0===n?"majorable"===t?"M":"P":-1===n&&"majorable"===t?"m":n>0?r("A",n):r("d","perfectable"===t?n:n+1)}(m,e)}(t)):i(t)?w(t.name):v}const j=[0,2,4,5,7,9,11],C="PMMPPMM";function E(t,n){const e=M(t),r=w(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord;return b(1===o.length?[o[0]+i[0]]:[o[0]+i[0],o[1]+i[1]]).name}function $(t,n){const e=M(t),r=M(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord,a=i[0]-o[0];return function(t){const[n,e=0]=t;return w(l(7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}([a,2===o.length&&2===i.length?i[1]-o[1]:-Math.floor(7*a/12)]).name}},1:function(t,n,e){"use strict";function r(){}var o=function(t){return null==t?r:function(){return this.querySelector(t)}};function i(){return[]}var a=function(t){return new Array(t.length)};function s(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var m="$";function u(t,n,e,r,o,i){for(var a,m=0,u=n.length,c=i.length;m<c;++m)(a=n[m])?(a.__data__=i[m],r[m]=a):e[m]=new s(t,i[m]);for(;m<u;++m)(a=n[m])&&(o[m]=a)}function c(t,n,e,r,o,i,a){var u,c,l,f={},d=n.length,h=i.length,P=new Array(d);for(u=0;u<d;++u)(c=n[u])&&(P[u]=l=m+a.call(c,c.__data__,u,n),l in f?o[u]=c:f[l]=c);for(u=0;u<h;++u)(c=f[l=m+a.call(t,i[u],u,i)])?(r[u]=c,c.__data__=i[u],f[l]=null):e[u]=new s(t,i[u]);for(u=0;u<d;++u)(c=n[u])&&f[P[u]]===c&&(o[u]=c)}function l(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var f="http://www.w3.org/1999/xhtml",d={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),d.hasOwnProperty(n)?{space:d[n],local:t}:t};function P(t){return function(){this.removeAttribute(t)}}function p(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,n){return function(){this.setAttribute(t,n)}}function g(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function b(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var A=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function v(t){return function(){this.style.removeProperty(t)}}function x(t,n,e){return function(){this.style.setProperty(t,n,e)}}function _(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function w(t,n){return t.style.getPropertyValue(n)||A(t).getComputedStyle(t,null).getPropertyValue(n)}function j(t){return function(){delete this[t]}}function C(t,n){return function(){this[t]=n}}function E(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function $(t){return t.trim().split(/^|\s+/)}function S(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function N(t,n){for(var e=S(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function D(t,n){for(var e=S(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function F(t){return function(){N(this,t)}}function k(t){return function(){D(this,t)}}function T(t,n){return function(){(n.apply(this,arguments)?N:D)(this,t)}}O.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function L(){this.textContent=""}function B(t){return function(){this.textContent=t}}function G(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function W(){this.innerHTML=""}function q(t){return function(){this.innerHTML=t}}function z(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function H(){this.nextSibling&&this.parentNode.appendChild(this)}function R(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===f&&n.documentElement.namespaceURI===f?n.createElement(t):n.createElementNS(e,t)}}function I(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var V=function(t){var n=h(t);return(n.local?I:U)(n)};function X(){return null}function J(){var t=this.parentNode;t&&t.removeChild(this)}function K(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Q(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Y={},Z=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Y={mouseenter:"mouseover",mouseleave:"mouseout"}));function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(t,n,e){return function(r){var o=Z;Z=r;try{t.call(this,this.__data__,n,e)}finally{Z=o}}}function et(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function rt(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function ot(t,n,e){var r=Y.hasOwnProperty(t.type)?tt:nt;return function(o,i,a){var s,m=this.__on,u=r(n,i,a);if(m)for(var c=0,l=m.length;c<l;++c)if((s=m[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},m?m.push(s):this.__on=[s]}}function it(t,n,e){var r=A(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function at(t,n){return function(){return it(this,t,n)}}function st(t,n){return function(){return it(this,t,n.apply(this,arguments))}}var mt=[null];function ut(t,n){this._groups=t,this._parents=n}function ct(){return new ut([[document.documentElement]],mt)}ut.prototype=ct.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,s,m=n[i],u=m.length,c=r[i]=new Array(u),l=0;l<u;++l)(a=m[l])&&(s=t.call(a,a.__data__,l,m))&&("__data__"in a&&(s.__data__=a.__data__),c[l]=s);return new ut(r,this._parents)},selectAll:function(t){var n;"function"!=typeof t&&(t=null==(n=t)?i:function(){return this.querySelectorAll(n)});for(var e=this._groups,r=e.length,o=[],a=[],s=0;s<r;++s)for(var m,u=e[s],c=u.length,l=0;l<c;++l)(m=u[l])&&(o.push(t.call(m,m.__data__,l,u)),a.push(m));return new ut(o,a)},filter:function(t){var n;"function"!=typeof t&&(n=t,t=function(){return this.matches(n)});for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i)for(var a,s=e[i],m=s.length,u=o[i]=[],c=0;c<m;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&u.push(a);return new ut(o,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var e,r=n?c:u,o=this._parents,i=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=i.length,s=new Array(a),m=new Array(a),l=new Array(a),f=0;f<a;++f){var d=o[f],h=i[f],P=h.length,p=t.call(d,d&&d.__data__,f,o),M=p.length,g=m[f]=new Array(M),y=s[f]=new Array(M);r(d,h,g,y,l[f]=new Array(P),p,n);for(var b,A,v=0,x=0;v<M;++v)if(b=g[v]){for(v>=x&&(x=v+1);!(A=y[x])&&++x<M;);b._next=A||null}}return(s=new ut(s,o))._enter=m,s._exit=l,s},enter:function(){return new ut(this._enter||this._groups.map(a),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(a),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var m,u=n[s],c=e[s],l=u.length,f=a[s]=new Array(l),d=0;d<l;++d)(m=u[d]||c[d])&&(f[d]=m);for(;s<r;++s)a[s]=n[s];return new ut(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=l);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,s=e[i],m=s.length,u=o[i]=new Array(m),c=0;c<m;++c)(a=s[c])&&(u[c]=a);u.sort(n)}return new ut(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,n){var e=h(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?p:P:"function"==typeof n?e.local?b:y:e.local?g:M)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?v:"function"==typeof n?_:x)(t,n,null==e?"":e)):w(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?j:"function"==typeof n?E:C)(t,n)):this.node()[t]},classed:function(t,n){var e=$(t+"");if(arguments.length<2){for(var r=S(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?T:n?F:k)(e,n))},text:function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?G:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?z:q)(t)):this.node().innerHTML},raise:function(){return this.each(H)},lower:function(){return this.each(R)},append:function(t){var n="function"==typeof t?t:V(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:V(t),r=null==n?X:"function"==typeof n?n:o(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(J)},clone:function(t){return this.select(t?Q:K)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=et(t+""),a=i.length;if(!(arguments.length<2)){for(s=n?ot:rt,null==e&&(e=!1),r=0;r<a;++r)this.each(s(i[r],n,e));return this}var s=this.node().__on;if(s)for(var m,u=0,c=s.length;u<c;++u)for(r=0,m=s[u];r<a;++r)if((o=i[r]).type===m.type&&o.name===m.name)return m.value},dispatch:function(t,n){return this.each(("function"==typeof n?st:at)(t,n))}};var lt=function(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],mt)};function ft(t){return"object"==typeof t&&"string"==typeof t.name}function dt(t){return"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const ht=[0,2,4,-1,1,3,5],Pt=ht.map(t=>Math.floor(7*t/12));function pt(t){const{step:n,alt:e,oct:r,dir:o=1}=t,i=ht[n]+7*e;return void 0===r?[o*i]:[o*i,o*(r-Pt[n]-4*e)]}const Mt=[3,0,4,1,5,2,6];function gt(t){const[n,e,r]=t,o=Mt[function(t){const n=(t+1)%7;return n<0?7+n:n}(n)],i=Math.floor((n+1)/7);return void 0===e?{step:o,alt:i,dir:r}:{step:o,alt:i,oct:e+4*i+Pt[o],dir:r}}const yt={empty:!0,name:"",pc:"",acc:""},bt={},At=(t,n)=>Array(n+1).join(t),vt=t=>"CDEFGAB".charAt(t),xt=t=>t<0?At("b",-t):At("#",t),_t=t=>"b"===t[0]?-t.length:t.length;function wt(t){return"string"==typeof t?bt[t]||(bt[t]=function(t){const n=function(t){const n=jt.exec(t);return[n[1].toUpperCase(),n[2].replace(/x/g,"##"),n[3],n[4]]}(t);if(""===n[0]||""!==n[3])return yt;const e=n[0],r=n[1],o=n[2],i=(e.charCodeAt(0)+3)%7,a=_t(r),s=o.length?+o:void 0,m=pt({step:i,alt:a,oct:s}),u=e+r+o,c=e+r,l=(Ct[i]+a+120)%12,f=void 0===s?-100:s,d=Ct[i]+a+12*(f+1),h=d>=0&&d<=127?d:null,P=void 0===s?null:440*Math.pow(2,(d-69)/12);return{empty:!1,acc:r,alt:a,chroma:l,coord:m,freq:P,height:d,letter:e,midi:h,name:u,oct:s,pc:c,step:i}}(t)):dt(t)?wt(function(t){const{step:n,alt:e,oct:r}=t,o=vt(n);if(!o)return"";const i=o+xt(e);return r||0===r?i+r:i}(t)):ft(t)?wt(t.name):yt}const jt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;const Ct=[0,2,4,5,7,9,11];const Et={empty:!0,name:"",acc:""},$t=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const St={};function Ot(t){return"string"==typeof t?St[t]||(St[t]=function(t){const n=function(t){const n=$t.exec(`${t}`);return null===n?["",""]:n[1]?[n[1],n[2]]:[n[4],n[3]]}(t);if(""===n[0])return Et;const e=+n[0],r=n[1],o=(Math.abs(e)-1)%7,i=Dt[o];if("M"===i&&"P"===r)return Et;const a="M"===i?"majorable":"perfectable",s=""+e+r,m=e<0?-1:1,u=8===e||-8===e?e:m*(o+1),c=function(t,n){return"M"===n&&"majorable"===t||"P"===n&&"perfectable"===t?0:"m"===n&&"majorable"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?-1*("perfectable"===t?n.length:n.length+1):0}(a,r),l=Math.floor((Math.abs(e)-1)/7),f=m*(Nt[o]+c+12*l),d=(m*(Nt[o]+c)%12+12)%12,h=pt({step:o,alt:c,oct:l,dir:m});return{empty:!1,name:s,num:e,q:r,step:o,alt:c,dir:m,type:a,simple:u,semitones:f,chroma:d,coord:h,oct:l}}(t)):dt(t)?Ot(function(t){const{step:n,alt:e,oct:r=0,dir:o}=t;if(!o)return"";const i=n+1+7*r,a=o<0?"-":"",s="M"===Dt[n]?"majorable":"perfectable";return a+i+function(t,n){return 0===n?"majorable"===t?"M":"P":-1===n&&"majorable"===t?"m":n>0?Ft("A",n):Ft("d","perfectable"===t?n:n+1)}(s,e)}(t)):ft(t)?Ot(t.name):Et}const Nt=[0,2,4,5,7,9,11],Dt="PMMPPMM";const Ft=(t,n)=>Array(Math.abs(n)+1).join(t);function kt(t,n){const e=wt(t),r=Ot(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord;return function(t){return wt(gt(t))}(1===o.length?[o[0]+i[0]]:[o[0]+i[0],o[1]+i[1]]).name}function Tt(t,n){const e=wt(t),r=wt(n);if(e.empty||r.empty)return"";const o=e.coord,i=r.coord,a=i[0]-o[0];return function(t){const[n,e=0]=t;return Ot(gt(7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}([a,2===o.length&&2===i.length?i[1]-o[1]:-Math.floor(7*a/12)]).name}function Lt(t,n){const e=n.length,r=(t%e+e)%e;return n.slice(r,e).concat(n.slice(0,r))}const Bt={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Gt=t=>Number(t).toString(2),Wt=t=>parseInt(t,2),qt=/^[01]{12}$/;function zt(t){return qt.test(t)}const Ht=t=>"number"==typeof t&&t>=0&&t<=4095,Rt=t=>t&&zt(t.chroma),Ut={[Bt.chroma]:Bt};function It(t){const n=zt(t)?t:Ht(t)?Gt(t):Array.isArray(t)?function(t){if(0===t.length)return Bt.chroma;let n;const e=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)(n=wt(t[r])).empty&&(n=Ot(t[r])),n.empty||(e[n.chroma]=1);return e.join("")}(t):Rt(t)?t.chroma:Bt.chroma;return Ut[n]=Ut[n]||function(t){const n=Wt(t),e=function(t){const n=t.split("");return n.map((t,e)=>Lt(e,n).join(""))}(t).map(Wt).filter(t=>t>=2048).sort()[0],r=Gt(e),o=function(t){const n=[];for(let e=0;e<12;e++)"1"===t.charAt(e)&&n.push(Vt[e]);return n}(t);return{empty:!1,name:"",setNum:n,chroma:t,normalized:r,intervals:o}}(n)}const Vt="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");const Xt=[["1P 3M 5P","major","M "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69"],["1P 3M 5P 7M 11A","lydian","maj#4 Δ#4 Δ#11"],["1P 3M 6m 7M","major seventh b6","M7b6"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 m/M7 -Δ7 mΔ"],["1P 3m 5P 6M","minor sixth","m6"],["1P 3m 5P 7m 9M","minor ninth","m9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant b9","7b9"],["1P 3M 5P 7m 9A","dominant #9","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended 4th","sus4"],["1P 2M 5P","suspended 2nd","sus2"],["1P 4P 5P 7m","suspended 4th seventh","7sus4"],["1P 5P 7m 9M 11P","eleventh","11 sus Bb/C for C11"],["1P 4P 5P 7m 9m","suspended 4th b9","b9sus phryg"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5"],["1P 3M 5P 7M 9M 11A","major #11 (lydian)","maj9#11 Δ9#11"],["1P 3M 5P 7m 9A","dominant #9","7#9"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 13m","","Mb6"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7alt 7#5#9_ 7#9b13_"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9 13#9_"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4 9#11_ 9#4_"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5A","","m#5 m+ mb6"],["1P 3m 5P 6M 9M","","m69 _69"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7M 9M","","mMaj9 -Maj9"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 5d 7m","","m7b5 half-diminished h7 _7b5"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 6m 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 3m 7m 12d 2M","","m9b5 h9 -9b5"],["1P 3m 7m 12d 2M 4P","","m11b5 h11 _11b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].map((function([t,n,e]){const r=t.split(" "),o=e.split(" "),i=function(t){const n=n=>-1!==t.indexOf(n);return n("5A")?"Augmented":n("3M")?"Major":n("5d")?"Diminished":n("3m")?"Minor":"Unknown"}(r);return{...It(r),name:n,quality:i,intervals:r,aliases:o}}));Xt.sort((t,n)=>t.setNum-n.setNum);Xt.reduce((t,n)=>(n.name&&(t[n.name]=n),t[n.setNum]=n,t[n.chroma]=n,n.aliases.forEach(e=>{t[e]=n}),t),{});const Jt={...Bt,intervals:[],aliases:[]},Kt=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 3m 3M 5d 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished"],["1P 2M 3M 4P 5P 6m 7m","melodic minor fifth mode","hindu","mixolydian b6M"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major","dorian b2"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3m 5d 5P 6M 7m","romanian minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","ionian augmented"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M","chromatic"]].map((function([t,n,...e]){const r=t.split(" ");return{...It(r),name:n,intervals:r,aliases:e}})),Qt=Kt.reduce((t,n)=>(t[n.name]=n,t[n.setNum]=n,t[n.chroma]=n,n.aliases.forEach(e=>{t[e]=n}),t),{});Object.keys(Qt);const Yt={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Zt(t){const n=Array.isArray(t)?t:function(t){if("string"!=typeof t)return["",""];const n=t.indexOf(" "),e=wt(t.substring(0,n));if(e.empty){const n=wt(t);return n.empty?["",t]:[n.name,""]}const r=t.substring(e.name.length+1);return[e.name,r.length?r:""]}(t),e=wt(n[0]).name,r=function(t){return Qt[t]||Jt}(n[1]);if(r.empty)return Yt;const o=r.name,i=e?r.intervals.map(t=>kt(e,t)):[],a=e?e+" "+o:o;return{...r,name:a,type:o,tonic:e,notes:i}}var tn=e(0);Math.log(2),Math.log(440);const nn="C C# D D# E F F# G G# A A# B".split(" "),en="C Db D Eb E F Gb G Ab A Bb B".split(" ");function rn(t,n={}){t=Math.round(t);const e=(!0===n.sharps?nn:en)[t%12];return n.pitchClass?e:e+(Math.floor(t/12)-1)}const on=tn.e;const an=tn.g;tn.g;sn(!0),sn(!1);function sn(t){return n=>{const e=on(n);if(e.empty)return"";const r=t?e.alt>0:e.alt<0,o=null===e.midi;return rn(e.midi||e.chroma,{sharps:r,pitchClass:o})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function mn(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}function un(t,n){return[`dot-${n}`,...Object.entries(t).map(([t,e])=>`dot-${n}-${t}-${e}`)].join(" ")}e.d(n,"a",(function(){return yn})),e.d(n,"b",(function(){return dn})),e.d(n,"c",(function(){return An})),e.d(n,"d",(function(){return bn})),e.d(n,"e",(function(){return wn})),e.d(n,"f",(function(){return gn})),e.d(n,"g",(function(){return xn}));const cn=11,ln={el:"#fretboard",stringCount:6,stringWidth:1,stringColor:"black",fretCount:15,fretWidth:1,fretColor:"black",nutWidth:7,nutColor:"black",middleFretColor:"red",middleFretWidth:3,scaleFrets:!0,topPadding:20,bottomPadding:15,leftPadding:20,rightPadding:20,height:150,width:960,dotSize:20,dotStrokeColor:"black",dotStrokeWidth:2,dotTextSize:12,dotFill:"white",dotText:()=>"",disabledOpacity:.9,showFretNumbers:!0,fretNumbersHeight:40,fretNumbersMargin:20,fretNumbersColor:"#00000099",font:"Arial"};function fn({topPadding:t,bottomPadding:n,leftPadding:e,rightPadding:r,width:o,height:i,showFretNumbers:a,fretNumbersHeight:s}){let m=i+t+n;return a&&(m+=s),{totalWidth:o+e+r,totalHeight:m}}class dn{constructor(t={}){this.options=Object.assign({},ln,t);const{el:n,height:e,width:r,leftPadding:o,topPadding:i,stringCount:a,stringWidth:s,fretCount:m,scaleFrets:u}=this.options;this.strings=function({stringCount:t,stringWidth:n,height:e}){const r=[];for(let o=0;o<t;o++){let i=e/(t-1)*o;0===o&&(i+=n),o===t-1&&(i-=n),r.push(i)}return r}({stringCount:a,height:e,stringWidth:s}),this.frets=function({scaleFrets:t,fretCount:n}){const e=Math.pow(2,1/12),r=[0];for(let o=1;o<=n;o++){let i=100/n*o;t&&(i=100-100/Math.pow(e,o)),r.push(i)}return r.map(t=>t/r[r.length-1]*100)}({fretCount:m,scaleFrets:u});const{frets:c,strings:l}=this,{totalWidth:f,totalHeight:d}=fn(this.options);function h({fret:t,string:n}){let e=0;return{x:e=0===t?c[0]/2:c[t]-(c[t]-c[t-1])/2,y:l[n-1]}}this.positions=function({fretCount:t,stringCount:n}){const e=[];for(let r=1;r<=n;r++){const n=[];for(let e=0;e<=t;e++)n.push(h({fret:e,string:r}));e.push(n)}return e}(this.options),this.svg=lt(n).append("svg").attr("viewBox",`0 0 ${f} ${d}`).append("g").attr("class","fretboard-wrapper").attr("transform",`translate(${o}, ${i}) scale(${r/f})`)}_baseRender(){if(this.baseRendered)return;const{svg:t,frets:n,strings:e}=this,{height:r,font:o,nutColor:i,nutWidth:a,stringColor:s,stringWidth:m,fretColor:u,fretWidth:c,middleFretWidth:l,middleFretColor:f,showFretNumbers:d,fretNumbersMargin:h,fretNumbersColor:P,topPadding:p}=this.options,{totalWidth:M}=fn(this.options);if(t.append("g").attr("class","strings").selectAll("line").data(e).enter().append("line").attr("x1",0).attr("y1",t=>t).attr("x2","100%").attr("y2",t=>t).attr("stroke",s).attr("stroke-width",m),t.append("g").attr("class","frets").selectAll("line").data(n).enter().append("line").attr("x1",t=>`${t}%`).attr("y1",1).attr("x2",t=>`${t}%`).attr("y2",r-1).attr("stroke",(t,n)=>{switch(n){case 0:return i;case cn:return f;default:return u}}).attr("stroke-width",(t,n)=>{switch(n){case 0:return a;case cn:return l;default:return c}}),d){t.append("g").attr("class","fret-numbers").attr("font-family",o).attr("transform",`translate(0 ${h+p+e[e.length-1]})`).selectAll("text").data(n.slice(1)).enter().append("text").attr("text-anchor","middle").attr("x",(t,e)=>M/100*(t-(t-n[e])/2)).attr("fill",(t,n)=>n===cn?f:P).text((t,n)=>`${n+1}`)}this.baseRendered=!0}render(t=[]){if(this._baseRender(),!t.length)return this;const{svg:n,positions:e}=this,{font:r,dotStrokeColor:o,dotStrokeWidth:i,dotFill:a,dotSize:s,dotText:m,dotTextSize:u,disabledOpacity:c}=this.options;n.select(".dots").remove();const l=n.append("g").attr("class","dots").attr("font-family",r).selectAll("g").data(t).enter().append("g").attr("class",({disabled:t})=>t?"dot dot-disabled":"dot").attr("opacity",({disabled:t})=>t?c:1);return l.append("circle").attr("cx",({string:t,fret:n})=>`${e[t-1][n].x}%`).attr("cy",({string:t,fret:n})=>e[t-1][n].y).attr("r",.5*s).attr("class",t=>un(t,"circle")).attr("stroke",o).attr("stroke-width",i).attr("fill",a),l.append("text").attr("x",({string:t,fret:n})=>`${e[t-1][n].x}%`).attr("y",({string:t,fret:n})=>e[t-1][n].y).attr("class",t=>un(t,"text")).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",u).text(m),this}style(t){var{filter:n=(()=>!0),text:e,fontSize:r,fontFill:o}=t,i=mn(t,["filter","text","fontSize","fontFill"]);const{svg:a}=this,{dotTextSize:s}=this.options,m=a.selectAll(".dot-circle").filter(n);return Object.keys(i).forEach(t=>m.attr(t,i[t])),e&&a.selectAll(".dot-text").filter(n).text(e).attr("font-size",r||s).attr("fill",o||"black"),this}}function hn({scaleTitle:t,pattern:n,root:e,modeSchema:r}){const{index:o,root:i}=r,{semitones:a}=Ot(Tt(i,e)),{intervals:s,notes:m}=Zt(t),u=+e.substr(-1);let c=0;return 0!==o&&c--,n.map(({string:t,fret:n},e)=>{const r=function(t,n){return(t%n+n)%n}(e-o,m.length),i=m[r].substring(0,m[r].length-1),l=+m[r].substr(-1);return 0===r&&e>0&&c++,{string:t,fret:n+a,note:i,noteWithOctave:i+(l+c),octave:u+c,interval:s[r],position:+s[r][0]}})}function Pn({modes:t,modeName:n}){const e=t.find(({name:t,aliases:e=[]})=>t===n||e.indexOf(n)>-1);return e||null}const pn={E:{modes:[{name:"ionian",aliases:["major"],root:"E2",index:1},{name:"dorian",root:"F#2",index:2},{name:"phrygian",root:"G#2",index:3},{name:"lydian",root:"A2",index:4},{name:"mixolydian",root:"B2",index:5},{name:"aeolian",aliases:["minor","natural minor"],root:"C#3",index:6},{name:"locrian",root:"D#3",index:7}],pattern:[{string:6,fret:-1},{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:1,fret:-1},{string:1,fret:0},{string:1,fret:2}]},D:{modes:[{name:"ionian",aliases:["major"],root:"D3",index:6},{name:"dorian",root:"E2",index:0},{name:"phrygian",root:"F#2",index:1},{name:"lydian",root:"G2",index:2},{name:"mixolydian",root:"A2",index:3},{name:"aeolian",aliases:["minor","natural minor"],root:"B2",index:4},{name:"locrian",root:"C#3",index:5}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2},{string:1,fret:3}]},C:{modes:[{name:"ionian",aliases:["major"],root:"C3",index:5},{name:"dorian",root:"D3",index:6},{name:"phrygian",root:"E2",index:0},{name:"lydian",root:"F2",index:1},{name:"mixolydian",root:"G2",index:2},{name:"aeolian",aliases:["minor","natural minor"],root:"A2",index:3},{name:"locrian",root:"B2",index:4}],pattern:[{string:6,fret:0},{string:6,fret:1},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:5,fret:3},{string:4,fret:0},{string:4,fret:2},{string:4,fret:3},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:1},{string:1,fret:3}]},A:{modes:[{name:"ionian",aliases:["major"],root:"A2",index:4},{name:"dorian",root:"B2",index:5},{name:"phrygian",root:"C#3",index:6},{name:"lydian",root:"D2",index:0},{name:"mixolydian",root:"E2",index:1},{name:"aeolian",aliases:["minor","natural minor"],root:"F#2",index:2},{name:"locrian",root:"G#2",index:3}],pattern:[{string:6,fret:-2},{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2}]},G:{modes:[{name:"ionian",aliases:["major"],root:"G2",index:2},{name:"dorian",root:"A2",index:3},{name:"phrygian",root:"B2",index:4},{name:"lydian",root:"C3",index:5},{name:"mixolydian",root:"D3",index:6},{name:"aeolian",aliases:["minor","natural minor"],root:"E2",index:0},{name:"locrian",root:"F#2",index:1}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:5,fret:3},{string:4,fret:0},{string:4,fret:2},{string:4,fret:4},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2},{string:1,fret:3}]}},Mn=[{modes:[{name:"ionian",aliases:["major"],root:"E2",index:0},{name:"aeolian",aliases:["minor","natural minor"],root:"C#2",index:4}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:2,fret:0},{string:2,fret:2},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"D3",index:4},{name:"aeolian",aliases:["minor","natural minor"],root:"B2",index:3}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:0},{string:5,fret:2},{string:4,fret:0,root:!0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"C3",index:3},{name:"aeolian",aliases:["minor","natural minor"],root:"A2",index:2}],pattern:[{string:6,fret:0},{string:6,fret:3},{string:5,fret:0},{string:5,fret:3,root:!0},{string:4,fret:0},{string:4,fret:2},{string:3,fret:0},{string:3,fret:2},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:3}]},{modes:[{name:"ionian",aliases:["major"],root:"A2",index:2},{name:"aeolian",aliases:["minor","natural minor"],root:"F#2",index:1}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:0,root:!0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"G2",index:1},{name:"aeolian",aliases:["minor","natural minor"],root:"E2",index:0}],pattern:[{string:6,fret:0},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:4,fret:0},{string:4,fret:2},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:3},{string:1,fret:0},{string:1,fret:3}]}];function gn({mode:t="major",root:n="C3",box:e=1}={}){const r=Mn[e-1];if(!r)throw new Error(`Cannot find box ${e} in the pentatonic scale`);const{pattern:o,modes:i}=r,a=Pn({modes:i,modeName:t});if(!a)throw new Error(`Cannot find mode ${t} in the pentatonic ${e} box`);return hn({name:`Pentatonic ${t} box ${e}`,scaleTitle:`${n} ${t} pentatonic`,pattern:o,root:n,modeSchema:a})}function yn({mode:t="major",root:n="C3",box:e="C"}={}){const r=pn[e];if(!r)throw new Error(`Cannot find box ${e} in the CAGED system`);const{pattern:o,modes:i}=r,a=Pn({modes:i,modeName:t});if(!a)throw new Error(`Cannot find mode ${t} in the CAGED ${e} box`);return hn({name:`CAGED ${e} box - ${n}${t}`,scaleTitle:`${n} ${t}`,pattern:o,root:n,modeSchema:a})}var bn,An;!function(t){t.Major="Major",t.Minor="Minor",t.Phrygian="Phrygian",t.Harmonic="Harmonic",t.Lydian="Lydian"}(bn||(bn={})),function(t){t[t.Linear=0]="Linear",t[t.ThreePlusOne=1]="ThreePlusOne",t[t.TwoPlusTwo=2]="TwoPlusTwo",t[t.OnePlusThree=3]="OnePlusThree"}(An||(An={}));const vn={[bn.Major]:["M2","M2","m2"],[bn.Minor]:["M2","m2","M2"],[bn.Phrygian]:["m2","M2","M2"],[bn.Harmonic]:["m2","A2","m2"],[bn.Lydian]:["M2","M2","M2"]};function xn({root:t,type:n,layout:e,string:r,fret:o}={root:"E",type:bn.Major,layout:An.Linear,string:6,fret:0}){const i=vn[n],a=[{string:r,fret:o,note:t}];let s=0,m=t;if(e===An.Linear)return i.forEach(t=>{const{semitones:n}=Ot(t);m=an(m,t),s+=n,a.push({string:r,fret:o+s,note:m})}),a;if(1===r)throw new Error("Cannot split a tetrachord over two strings if starting on the first one");let u=r;const c=(()=>{switch(e){case An.ThreePlusOne:return 2;case An.TwoPlusTwo:return 1;case An.OnePlusThree:return 0}})();return i.forEach((t,n)=>{const{semitones:e}=Ot(t);m=an(m,t),n===c&&(s=2===(u-=1)?s-4:s-5);const r=o+(s+=e);if(r<0)throw new Error("Cannot use this layout from this starting fret");a.push({string:u,fret:r,note:m})}),a}function _n({box:t=[],from:n={string:6,fret:0},to:e={string:1,fret:100},action:r=(t=>t)}={}){return t.map(t=>!function({string:t,fret:r}){return!(t>n.string||t<e.string)&&(!(t===n.string&&r<n.fret)&&!(t===e.string&&r>e.fret))}(t)?t:r(t))}function wn({box:t=[],from:n={string:6,fret:0},to:e={string:1,fret:100}}={}){return _n({box:t,from:n,to:e,action:t=>Object.assign({disabled:!0},t)})}},3:function(t,n,e){"use strict";var r=e(1);document.addEventListener("DOMContentLoaded",()=>{new r.b({el:"#icon",fretCount:3,stringWidth:2,fretWidth:2,dotSize:8,dotStrokeWidth:2,leftPadding:0,rightPadding:0,topPadding:0,bottomPadding:0,width:90,height:60,showFretNumbers:!1}).render([{string:5,fret:2,note:"B"},{string:4,fret:1,note:"D#"},{string:3,fret:2,note:"A"},{string:2,fret:3,note:"Cx"}]).style({fill:({note:t})=>"Cx"===t?"red":"white"}),document.querySelectorAll(".navbar-burger").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.target,e=document.getElementById(n);t.classList.toggle("is-active"),e.classList.toggle("is-active")})})})},4:function(t,n,e){},46:function(t,n,e){"use strict";e.r(n);var r=e(1);e(3),e(4);const o=[{root:"C",mode:"ionian",color:"#e76f51"},{root:"D",mode:"dorian",color:"#6a994e"},{root:"E",mode:"phrygian",color:"#8338ec"},{root:"F",mode:"lydian",color:"#ffbd00"},{root:"G",mode:"mixolydian",color:"#e36414"},{root:"A",mode:"aeolian",color:"#00bbf9"},{root:"B",mode:"locrian",color:"#1D5DF2"}],i={height:200,stringsWidth:1.5,dotSize:25,fretCount:16,fretsWidth:1.2,font:"Futura"};document.addEventListener("DOMContentLoaded",()=>{let t="C",n="",e="ionian";const a=new r.b(i);function s(){const{root:i,color:s}=o.find(({mode:t})=>t===e);n=function(t,n){switch(n){case"C":return"CD".split("").indexOf(t)>-1?t+3:t+2;case"A":return"FGAB".split("").indexOf(t)>-1?t+2:t+3;case"G":return"AB".split("").indexOf(t)>-1?t+2:t+3;case"E":return t+"3";case"D":return"C"===t?t+4:t+3}}(i,t),a.render(Object(r.a)({root:n,box:t,mode:e})).style({fill:({note:t})=>t===n.charAt(0)?s:"white",text:({note:t})=>t})}const m=document.querySelector(".modes"),u=document.querySelector(".boxes");m.innerHTML=o.map(({mode:t,color:n})=>`\n      <label class="radio mode-${t}" style="color: ${n}">\n        <input type="radio" name="mode" value="${t}" ${e===t?"checked":""}>\n        ${t}\n      </label>\n    `).join(""),u.innerHTML="CAGED".split("").map(n=>`\n      <label class="radio box-${n}">\n        <input type="radio" name="mode" value="${n}" ${t===n?"checked":""}>\n        <strong>${n}</strong> shaped box\n      </label>\n    `).join(""),m.querySelectorAll("input").forEach(t=>{t.addEventListener("change",t=>{const{mode:n,root:r}=o.find(({mode:n})=>n===t.target.value);e=n,s()})}),u.querySelectorAll("input").forEach(n=>{n.addEventListener("change",n=>{t=n.target.value,s()})}),s()})}});