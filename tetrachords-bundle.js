!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=97)}({0:function(t,n,e){"use strict";e.d(n,"a",(function(){return y})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return S})),e.d(n,"d",(function(){return _})),e.d(n,"e",(function(){return P})),e.d(n,"f",(function(){return b})),e.d(n,"g",(function(){return E}));const r=(t,n)=>Array(Math.abs(n)+1).join(t);function i(t,n,e){return function(...r){return console.warn(`${t} is deprecated. Use ${n}.`),e.apply(this,r)}}function o(t){return null!==t&&"object"==typeof t&&"string"==typeof t.name}function a(t){return null!==t&&"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const s=[0,2,4,-1,1,3,5],m=s.map(t=>Math.floor(7*t/12));function c(t){const{step:n,alt:e,oct:r,dir:i=1}=t,o=s[n]+7*e;return void 0===r?[i*o]:[i*o,i*(r-m[n]-4*e)]}const u=[3,0,4,1,5,2,6];function l(t){const[n,e,r]=t,i=u[function(t){const n=(t+1)%7;return n<0?7+n:n}(n)],o=Math.floor((n+1)/7);return void 0===e?{step:i,alt:o,dir:r}:{step:i,alt:o,oct:e+4*o+m[i],dir:r}}const f={empty:!0,name:"",pc:"",acc:""},d=new Map,h=t=>"CDEFGAB".charAt(t),p=t=>t<0?r("b",-t):r("#",t),g=t=>"b"===t[0]?-t.length:t.length;function P(t){const n=d.get(t);if(n)return n;const e="string"==typeof t?function(t){const n=b(t);if(""===n[0]||""!==n[3])return f;const e=n[0],r=n[1],i=n[2],o=(e.charCodeAt(0)+3)%7,a=g(r),s=i.length?+i:void 0,m=c({step:o,alt:a,oct:s}),u=e+r+i,l=e+r,d=(v[o]+a+120)%12,h=void 0===s?-100:s,p=v[o]+a+12*(h+1),P=p>=0&&p<=127?p:null,M=void 0===s?null:440*Math.pow(2,(p-69)/12);return{empty:!1,acc:r,alt:a,chroma:d,coord:m,freq:M,height:p,letter:e,midi:P,name:u,oct:s,pc:l,step:o}}(t):a(t)?P(function(t){const{step:n,alt:e,oct:r}=t,i=h(n);if(!i)return"";const o=i+p(e);return r||0===r?o+r:o}(t)):o(t)?P(t.name):f;return d.set(t,e),e}const M=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function b(t){const n=M.exec(t);return[n[1].toUpperCase(),n[2].replace(/x/g,"##"),n[3],n[4]]}function y(t){return P(l(t))}const v=[0,2,4,5,7,9,11];const x={empty:!0,name:"",acc:""},A=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const w={};function _(t){return"string"==typeof t?w[t]||(w[t]=function(t){const n=function(t){const n=A.exec(`${t}`);return null===n?["",""]:n[1]?[n[1],n[2]]:[n[4],n[3]]}(t);if(""===n[0])return x;const e=+n[0],r=n[1],i=(Math.abs(e)-1)%7,o=C[i];if("M"===o&&"P"===r)return x;const a="M"===o?"majorable":"perfectable",s=""+e+r,m=e<0?-1:1,u=8===e||-8===e?e:m*(i+1),l=function(t,n){return"M"===n&&"majorable"===t||"P"===n&&"perfectable"===t?0:"m"===n&&"majorable"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?-1*("perfectable"===t?n.length:n.length+1):0}(a,r),f=Math.floor((Math.abs(e)-1)/7),d=m*(j[i]+l+12*f),h=(m*(j[i]+l)%12+12)%12,p=c({step:i,alt:l,oct:f,dir:m});return{empty:!1,name:s,num:e,q:r,step:i,alt:l,dir:m,type:a,simple:u,semitones:d,chroma:h,coord:p,oct:f}}(t)):a(t)?_(function(t){const{step:n,alt:e,oct:i=0,dir:o}=t;if(!o)return"";const a=n+1+7*i,s=o<0?"-":"",m="M"===C[n]?"majorable":"perfectable";return s+a+function(t,n){return 0===n?"majorable"===t?"M":"P":-1===n&&"majorable"===t?"m":n>0?r("A",n):r("d","perfectable"===t?n:n+1)}(m,e)}(t)):o(t)?_(t.name):x}const j=[0,2,4,5,7,9,11],C="PMMPPMM";function E(t,n){const e=P(t),r=_(n);if(e.empty||r.empty)return"";const i=e.coord,o=r.coord;return y(1===i.length?[i[0]+o[0]]:[i[0]+o[0],i[1]+o[1]]).name}function S(t,n){const e=P(t),r=P(n);if(e.empty||r.empty)return"";const i=e.coord,o=r.coord,a=o[0]-i[0];return function(t){const[n,e=0]=t;return _(l(7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}([a,2===i.length&&2===o.length?o[1]-i[1]:-Math.floor(7*a/12)]).name}},1:function(t,n,e){"use strict";function r(){}var i=function(t){return null==t?r:function(){return this.querySelector(t)}};function o(){return[]}var a=function(t){return new Array(t.length)};function s(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var m="$";function c(t,n,e,r,i,o){for(var a,m=0,c=n.length,u=o.length;m<u;++m)(a=n[m])?(a.__data__=o[m],r[m]=a):e[m]=new s(t,o[m]);for(;m<c;++m)(a=n[m])&&(i[m]=a)}function u(t,n,e,r,i,o,a){var c,u,l,f={},d=n.length,h=o.length,p=new Array(d);for(c=0;c<d;++c)(u=n[c])&&(p[c]=l=m+a.call(u,u.__data__,c,n),l in f?i[c]=u:f[l]=u);for(c=0;c<h;++c)(u=f[l=m+a.call(t,o[c],c,o)])?(r[c]=u,u.__data__=o[c],f[l]=null):e[c]=new s(t,o[c]);for(c=0;c<d;++c)(u=n[c])&&f[p[c]]===u&&(i[c]=u)}function l(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var f="http://www.w3.org/1999/xhtml",d={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),d.hasOwnProperty(n)?{space:d[n],local:t}:t};function p(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function P(t,n){return function(){this.setAttribute(t,n)}}function M(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function b(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var v=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function x(t){return function(){this.style.removeProperty(t)}}function A(t,n,e){return function(){this.style.setProperty(t,n,e)}}function w(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _(t,n){return t.style.getPropertyValue(n)||v(t).getComputedStyle(t,null).getPropertyValue(n)}function j(t){return function(){delete this[t]}}function C(t,n){return function(){this[t]=n}}function E(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function S(t){return t.trim().split(/^|\s+/)}function T(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=S(t.getAttribute("class")||"")}function N(t,n){for(var e=T(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function $(t,n){for(var e=T(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function k(t){return function(){N(this,t)}}function L(t){return function(){$(this,t)}}function F(t,n){return function(){(n.apply(this,arguments)?N:$)(this,t)}}O.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function D(){this.textContent=""}function B(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function W(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function q(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===f&&n.documentElement.namespaceURI===f?n.createElement(t):n.createElementNS(e,t)}}function I(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var V=function(t){var n=h(t);return(n.local?I:U)(n)};function J(){return null}function X(){var t=this.parentNode;t&&t.removeChild(this)}function K(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Q(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Y={},Z=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Y={mouseenter:"mouseover",mouseleave:"mouseout"}));function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(t,n,e){return function(r){var i=Z;Z=r;try{t.call(this,this.__data__,n,e)}finally{Z=i}}}function et(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function rt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function it(t,n,e){var r=Y.hasOwnProperty(t.type)?tt:nt;return function(i,o,a){var s,m=this.__on,c=r(n,o,a);if(m)for(var u=0,l=m.length;u<l;++u)if((s=m[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=e),void(s.value=n);this.addEventListener(t.type,c,e),s={type:t.type,name:t.name,value:n,listener:c,capture:e},m?m.push(s):this.__on=[s]}}function ot(t,n,e){var r=v(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function at(t,n){return function(){return ot(this,t,n)}}function st(t,n){return function(){return ot(this,t,n.apply(this,arguments))}}var mt=[null];function ct(t,n){this._groups=t,this._parents=n}function ut(){return new ct([[document.documentElement]],mt)}ct.prototype=ut.prototype={constructor:ct,select:function(t){"function"!=typeof t&&(t=i(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var a,s,m=n[o],c=m.length,u=r[o]=new Array(c),l=0;l<c;++l)(a=m[l])&&(s=t.call(a,a.__data__,l,m))&&("__data__"in a&&(s.__data__=a.__data__),u[l]=s);return new ct(r,this._parents)},selectAll:function(t){var n;"function"!=typeof t&&(t=null==(n=t)?o:function(){return this.querySelectorAll(n)});for(var e=this._groups,r=e.length,i=[],a=[],s=0;s<r;++s)for(var m,c=e[s],u=c.length,l=0;l<u;++l)(m=c[l])&&(i.push(t.call(m,m.__data__,l,c)),a.push(m));return new ct(i,a)},filter:function(t){var n;"function"!=typeof t&&(n=t,t=function(){return this.matches(n)});for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a,s=e[o],m=s.length,c=i[o]=[],u=0;u<m;++u)(a=s[u])&&t.call(a,a.__data__,u,s)&&c.push(a);return new ct(i,this._parents)},data:function(t,n){if(!t)return g=new Array(this.size()),f=-1,this.each((function(t){g[++f]=t})),g;var e,r=n?u:c,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,s=new Array(a),m=new Array(a),l=new Array(a),f=0;f<a;++f){var d=i[f],h=o[f],p=h.length,g=t.call(d,d&&d.__data__,f,i),P=g.length,M=m[f]=new Array(P),b=s[f]=new Array(P);r(d,h,M,b,l[f]=new Array(p),g,n);for(var y,v,x=0,A=0;x<P;++x)if(y=M[x]){for(x>=A&&(A=x+1);!(v=b[A])&&++A<P;);y._next=v||null}}return(s=new ct(s,i))._enter=m,s._exit=l,s},enter:function(){return new ct(this._enter||this._groups.map(a),this._parents)},exit:function(){return new ct(this._exit||this._groups.map(a),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var m,c=n[s],u=e[s],l=c.length,f=a[s]=new Array(l),d=0;d<l;++d)(m=c[d]||u[d])&&(f[d]=m);for(;s<r;++s)a[s]=n[s];return new ct(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=l);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],m=s.length,c=i[o]=new Array(m),u=0;u<m;++u)(a=s[u])&&(c[u]=a);c.sort(n)}return new ct(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=h(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?g:p:"function"==typeof n?e.local?y:b:e.local?M:P)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?x:"function"==typeof n?w:A)(t,n,null==e?"":e)):_(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?j:"function"==typeof n?E:C)(t,n)):this.node()[t]},classed:function(t,n){var e=S(t+"");if(arguments.length<2){for(var r=T(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?F:n?k:L)(e,n))},text:function(t){return arguments.length?this.each(null==t?D:("function"==typeof t?z:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?q:G)(t)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each(H)},append:function(t){var n="function"==typeof t?t:V(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:V(t),r=null==n?J:"function"==typeof n?n:i(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(X)},clone:function(t){return this.select(t?Q:K)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=et(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?it:rt,null==e&&(e=!1),r=0;r<a;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s)for(var m,c=0,u=s.length;c<u;++c)for(r=0,m=s[c];r<a;++r)if((i=o[r]).type===m.type&&i.name===m.name)return m.value},dispatch:function(t,n){return this.each(("function"==typeof n?st:at)(t,n))}};var lt=function(t){return"string"==typeof t?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],mt)};function ft(t){return"object"==typeof t&&"string"==typeof t.name}function dt(t){return"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const ht=[0,2,4,-1,1,3,5],pt=ht.map(t=>Math.floor(7*t/12));function gt(t){const{step:n,alt:e,oct:r,dir:i=1}=t,o=ht[n]+7*e;return void 0===r?[i*o]:[i*o,i*(r-pt[n]-4*e)]}const Pt=[3,0,4,1,5,2,6];function Mt(t){const[n,e,r]=t,i=Pt[function(t){const n=(t+1)%7;return n<0?7+n:n}(n)],o=Math.floor((n+1)/7);return void 0===e?{step:i,alt:o,dir:r}:{step:i,alt:o,oct:e+4*o+pt[i],dir:r}}const bt={empty:!0,name:"",pc:"",acc:""},yt={},vt=(t,n)=>Array(n+1).join(t),xt=t=>"CDEFGAB".charAt(t),At=t=>t<0?vt("b",-t):vt("#",t),wt=t=>"b"===t[0]?-t.length:t.length;function _t(t){return"string"==typeof t?yt[t]||(yt[t]=function(t){const n=function(t){const n=jt.exec(t);return[n[1].toUpperCase(),n[2].replace(/x/g,"##"),n[3],n[4]]}(t);if(""===n[0]||""!==n[3])return bt;const e=n[0],r=n[1],i=n[2],o=(e.charCodeAt(0)+3)%7,a=wt(r),s=i.length?+i:void 0,m=gt({step:o,alt:a,oct:s}),c=e+r+i,u=e+r,l=(Ct[o]+a+120)%12,f=void 0===s?-100:s,d=Ct[o]+a+12*(f+1),h=d>=0&&d<=127?d:null,p=void 0===s?null:440*Math.pow(2,(d-69)/12);return{empty:!1,acc:r,alt:a,chroma:l,coord:m,freq:p,height:d,letter:e,midi:h,name:c,oct:s,pc:u,step:o}}(t)):dt(t)?_t(function(t){const{step:n,alt:e,oct:r}=t,i=xt(n);if(!i)return"";const o=i+At(e);return r||0===r?o+r:o}(t)):ft(t)?_t(t.name):bt}const jt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;const Ct=[0,2,4,5,7,9,11];const Et={empty:!0,name:"",acc:""},St=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const Tt={};function Ot(t){return"string"==typeof t?Tt[t]||(Tt[t]=function(t){const n=function(t){const n=St.exec(`${t}`);return null===n?["",""]:n[1]?[n[1],n[2]]:[n[4],n[3]]}(t);if(""===n[0])return Et;const e=+n[0],r=n[1],i=(Math.abs(e)-1)%7,o=$t[i];if("M"===o&&"P"===r)return Et;const a="M"===o?"majorable":"perfectable",s=""+e+r,m=e<0?-1:1,c=8===e||-8===e?e:m*(i+1),u=function(t,n){return"M"===n&&"majorable"===t||"P"===n&&"perfectable"===t?0:"m"===n&&"majorable"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?-1*("perfectable"===t?n.length:n.length+1):0}(a,r),l=Math.floor((Math.abs(e)-1)/7),f=m*(Nt[i]+u+12*l),d=(m*(Nt[i]+u)%12+12)%12,h=gt({step:i,alt:u,oct:l,dir:m});return{empty:!1,name:s,num:e,q:r,step:i,alt:u,dir:m,type:a,simple:c,semitones:f,chroma:d,coord:h,oct:l}}(t)):dt(t)?Ot(function(t){const{step:n,alt:e,oct:r=0,dir:i}=t;if(!i)return"";const o=n+1+7*r,a=i<0?"-":"",s="M"===$t[n]?"majorable":"perfectable";return a+o+function(t,n){return 0===n?"majorable"===t?"M":"P":-1===n&&"majorable"===t?"m":n>0?kt("A",n):kt("d","perfectable"===t?n:n+1)}(s,e)}(t)):ft(t)?Ot(t.name):Et}const Nt=[0,2,4,5,7,9,11],$t="PMMPPMM";const kt=(t,n)=>Array(Math.abs(n)+1).join(t);function Lt(t,n){const e=_t(t),r=Ot(n);if(e.empty||r.empty)return"";const i=e.coord,o=r.coord;return function(t){return _t(Mt(t))}(1===i.length?[i[0]+o[0]]:[i[0]+o[0],i[1]+o[1]]).name}function Ft(t,n){const e=_t(t),r=_t(n);if(e.empty||r.empty)return"";const i=e.coord,o=r.coord,a=o[0]-i[0];return function(t){const[n,e=0]=t;return Ot(Mt(7*n+12*e<0?[-n,-e,-1]:[n,e,1]))}([a,2===i.length&&2===o.length?o[1]-i[1]:-Math.floor(7*a/12)]).name}function Dt(t,n){const e=n.length,r=(t%e+e)%e;return n.slice(r,e).concat(n.slice(0,r))}const Bt={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},zt=t=>Number(t).toString(2),Wt=t=>parseInt(t,2),Gt=/^[01]{12}$/;function qt(t){return Gt.test(t)}const Rt=t=>"number"==typeof t&&t>=0&&t<=4095,Ht=t=>t&&qt(t.chroma),Ut={[Bt.chroma]:Bt};function It(t){const n=qt(t)?t:Rt(t)?zt(t):Array.isArray(t)?function(t){if(0===t.length)return Bt.chroma;let n;const e=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)(n=_t(t[r])).empty&&(n=Ot(t[r])),n.empty||(e[n.chroma]=1);return e.join("")}(t):Ht(t)?t.chroma:Bt.chroma;return Ut[n]=Ut[n]||function(t){const n=Wt(t),e=function(t){const n=t.split("");return n.map((t,e)=>Dt(e,n).join(""))}(t).map(Wt).filter(t=>t>=2048).sort()[0],r=zt(e),i=function(t){const n=[];for(let e=0;e<12;e++)"1"===t.charAt(e)&&n.push(Vt[e]);return n}(t);return{empty:!1,name:"",setNum:n,chroma:t,normalized:r,intervals:i}}(n)}const Vt="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");const Jt=[["1P 3M 5P","major","M "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69"],["1P 3M 5P 7M 11A","lydian","maj#4 Δ#4 Δ#11"],["1P 3M 6m 7M","major seventh b6","M7b6"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 m/M7 -Δ7 mΔ"],["1P 3m 5P 6M","minor sixth","m6"],["1P 3m 5P 7m 9M","minor ninth","m9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant b9","7b9"],["1P 3M 5P 7m 9A","dominant #9","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended 4th","sus4"],["1P 2M 5P","suspended 2nd","sus2"],["1P 4P 5P 7m","suspended 4th seventh","7sus4"],["1P 5P 7m 9M 11P","eleventh","11 sus Bb/C for C11"],["1P 4P 5P 7m 9m","suspended 4th b9","b9sus phryg"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5"],["1P 3M 5P 7M 9M 11A","major #11 (lydian)","maj9#11 Δ9#11"],["1P 3M 5P 7m 9A","dominant #9","7#9"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 13m","","Mb6"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7alt 7#5#9_ 7#9b13_"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9 13#9_"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4 9#11_ 9#4_"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5A","","m#5 m+ mb6"],["1P 3m 5P 6M 9M","","m69 _69"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7M 9M","","mMaj9 -Maj9"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 5d 7m","","m7b5 half-diminished h7 _7b5"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 6m 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 3m 7m 12d 2M","","m9b5 h9 -9b5"],["1P 3m 7m 12d 2M 4P","","m11b5 h11 _11b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].map((function([t,n,e]){const r=t.split(" "),i=e.split(" "),o=function(t){const n=n=>-1!==t.indexOf(n);return n("5A")?"Augmented":n("3M")?"Major":n("5d")?"Diminished":n("3m")?"Minor":"Unknown"}(r);return{...It(r),name:n,quality:o,intervals:r,aliases:i}}));Jt.sort((t,n)=>t.setNum-n.setNum);Jt.reduce((t,n)=>(n.name&&(t[n.name]=n),t[n.setNum]=n,t[n.chroma]=n,n.aliases.forEach(e=>{t[e]=n}),t),{});const Xt={...Bt,intervals:[],aliases:[]},Kt=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 3m 3M 5d 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished"],["1P 2M 3M 4P 5P 6m 7m","melodic minor fifth mode","hindu","mixolydian b6M"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major","dorian b2"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3m 5d 5P 6M 7m","romanian minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","ionian augmented"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M","chromatic"]].map((function([t,n,...e]){const r=t.split(" ");return{...It(r),name:n,intervals:r,aliases:e}})),Qt=Kt.reduce((t,n)=>(t[n.name]=n,t[n.setNum]=n,t[n.chroma]=n,n.aliases.forEach(e=>{t[e]=n}),t),{});Object.keys(Qt);const Yt={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Zt(t){const n=Array.isArray(t)?t:function(t){if("string"!=typeof t)return["",""];const n=t.indexOf(" "),e=_t(t.substring(0,n));if(e.empty){const n=_t(t);return n.empty?["",t]:[n.name,""]}const r=t.substring(e.name.length+1);return[e.name,r.length?r:""]}(t),e=_t(n[0]).name,r=function(t){return Qt[t]||Xt}(n[1]);if(r.empty)return Yt;const i=r.name,o=e?r.intervals.map(t=>Lt(e,t)):[],a=e?e+" "+i:i;return{...r,name:a,type:i,tonic:e,notes:o}}var tn=e(0);Math.log(2),Math.log(440);const nn="C C# D D# E F F# G G# A A# B".split(" "),en="C Db D Eb E F Gb G Ab A Bb B".split(" ");function rn(t,n={}){t=Math.round(t);const e=(!0===n.sharps?nn:en)[t%12];return n.pitchClass?e:e+(Math.floor(t/12)-1)}const on=tn.e;const an=tn.g;tn.g;sn(!0),sn(!1);function sn(t){return n=>{const e=on(n);if(e.empty)return"";const r=t?e.alt>0:e.alt<0,i=null===e.midi;return rn(e.midi||e.chroma,{sharps:r,pitchClass:i})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function mn(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]])}return e}function cn(t,n){return[`dot-${n}`,...Object.entries(t).map(([t,e])=>`dot-${n}-${t}-${e}`)].join(" ")}e.d(n,"a",(function(){return bn})),e.d(n,"b",(function(){return dn})),e.d(n,"c",(function(){return vn})),e.d(n,"d",(function(){return yn})),e.d(n,"e",(function(){return _n})),e.d(n,"f",(function(){return Mn})),e.d(n,"g",(function(){return An}));const un=11,ln={el:"",stringCount:6,stringWidth:1,stringColor:"black",fretCount:15,fretWidth:1,fretColor:"black",nutWidth:7,nutColor:"black",middleFretColor:"red",middleFretWidth:3,scaleFrets:!0,topPadding:20,bottomPadding:15,leftPadding:20,rightPadding:20,height:150,width:960,dotSize:20,dotStrokeColor:"black",dotStrokeWidth:2,dotTextSize:12,dotFill:"white",dotText:()=>"",disabledOpacity:.9,showFretNumbers:!0,fretNumbersHeight:40,fretNumbersMargin:20,fretNumbersColor:"#00000099",font:"Arial"};function fn({topPadding:t,bottomPadding:n,leftPadding:e,rightPadding:r,width:i,height:o,showFretNumbers:a,fretNumbersHeight:s}){let m=o+t+n;return a&&(m+=s),{totalWidth:i+e+r,totalHeight:m}}class dn{constructor(t){this.options=Object.assign({},ln,t);const{el:n,height:e,width:r,leftPadding:i,topPadding:o,stringCount:a,stringWidth:s,fretCount:m,scaleFrets:c}=this.options;this.strings=function({stringCount:t,stringWidth:n,height:e}){const r=[];for(let i=0;i<t;i++){let o=e/(t-1)*i;0===i&&(o+=n),i===t-1&&(o-=n),r.push(o)}return r}({stringCount:a,height:e,stringWidth:s}),this.frets=function({scaleFrets:t,fretCount:n}){const e=Math.pow(2,1/12),r=[0];for(let i=1;i<=n;i++){let o=100/n*i;t&&(o=100-100/Math.pow(e,i)),r.push(o)}return r.map(t=>t/r[r.length-1]*100)}({fretCount:m,scaleFrets:c});const{frets:u,strings:l}=this,{totalWidth:f,totalHeight:d}=fn(this.options);function h({fret:t,string:n}){let e=0;return{x:e=0===t?u[0]/2:u[t]-(u[t]-u[t-1])/2,y:l[n-1]}}this.positions=function({fretCount:t,stringCount:n}){const e=[];for(let r=1;r<=n;r++){const n=[];for(let e=0;e<=t;e++)n.push(h({fret:e,string:r}));e.push(n)}return e}(this.options),this.svg=lt(n).append("svg").attr("viewBox",`0 0 ${f} ${d}`).append("g").attr("class","fretboard-wrapper").attr("transform",`translate(${i}, ${o}) scale(${r/f})`)}_baseRender(){if(this.baseRendered)return;const{svg:t,frets:n,strings:e}=this,{height:r,font:i,nutColor:o,nutWidth:a,stringColor:s,stringWidth:m,fretColor:c,fretWidth:u,middleFretWidth:l,middleFretColor:f,showFretNumbers:d,fretNumbersMargin:h,fretNumbersColor:p,topPadding:g}=this.options,{totalWidth:P}=fn(this.options);if(t.append("g").attr("class","strings").selectAll("line").data(e).enter().append("line").attr("x1",0).attr("y1",t=>t).attr("x2","100%").attr("y2",t=>t).attr("stroke",s).attr("stroke-width",m),t.append("g").attr("class","frets").selectAll("line").data(n).enter().append("line").attr("x1",t=>`${t}%`).attr("y1",1).attr("x2",t=>`${t}%`).attr("y2",r-1).attr("stroke",(t,n)=>{switch(n){case 0:return o;case un:return f;default:return c}}).attr("stroke-width",(t,n)=>{switch(n){case 0:return a;case un:return l;default:return u}}),d){t.append("g").attr("class","fret-numbers").attr("font-family",i).attr("transform",`translate(0 ${h+g+e[e.length-1]})`).selectAll("text").data(n.slice(1)).enter().append("text").attr("text-anchor","middle").attr("x",(t,e)=>P/100*(t-(t-n[e])/2)).attr("fill",(t,n)=>n===un?f:p).text((t,n)=>`${n+1}`)}this.baseRendered=!0}render(t=[]){if(this._baseRender(),!t.length)return this;const{svg:n,positions:e}=this,{font:r,dotStrokeColor:i,dotStrokeWidth:o,dotFill:a,dotSize:s,dotText:m,dotTextSize:c,disabledOpacity:u}=this.options;n.select(".dots").remove();const l=n.append("g").attr("class","dots").attr("font-family",r).selectAll("g").data(t).enter().append("g").attr("class",({disabled:t})=>t?"dot dot-disabled":"dot").attr("opacity",({disabled:t})=>t?u:1);return l.append("circle").attr("cx",({string:t,fret:n})=>`${e[t-1][n].x}%`).attr("cy",({string:t,fret:n})=>e[t-1][n].y).attr("r",.5*s).attr("class",t=>cn(t,"circle")).attr("stroke",i).attr("stroke-width",o).attr("fill",a),l.append("text").attr("x",({string:t,fret:n})=>`${e[t-1][n].x}%`).attr("y",({string:t,fret:n})=>e[t-1][n].y).attr("class",t=>cn(t,"text")).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",c).text(m),this}dots(t){var{filter:n=(()=>!0),text:e,fontSize:r,fontFill:i}=t,o=mn(t,["filter","text","fontSize","fontFill"]);const{svg:a}=this,{dotTextSize:s}=this.options,m=a.selectAll(".dot-circle").filter(n);return Object.keys(o).forEach(t=>m.attr(t,o[t])),e&&a.selectAll(".dot-text").filter(n).text(e).attr("font-size",r||s).attr("fill",i||"black"),this}}function hn({scaleTitle:t,pattern:n,root:e,modeSchema:r}){const{index:i,root:o}=r,{semitones:a}=Ot(Ft(o,e)),{intervals:s,notes:m}=Zt(t),c=+e.substr(-1);let u=0;return 0!==i&&u--,n.map(({string:t,fret:n},e)=>{const r=function(t,n){return(t%n+n)%n}(e-i,m.length),o=m[r].substring(0,m[r].length-1),l=+m[r].substr(-1);return 0===r&&e>0&&u++,{string:t,fret:n+a,note:o,noteWithOctave:o+(l+u),octave:c+u,interval:s[r],position:+s[r][0]}})}function pn({modes:t,modeName:n}){const e=t.find(({name:t,aliases:e=[]})=>t===n||e.indexOf(n)>-1);return e||null}const gn={E:{modes:[{name:"ionian",aliases:["major"],root:"E2",index:1},{name:"dorian",root:"F#2",index:2},{name:"phrygian",root:"G#2",index:3},{name:"lydian",root:"A2",index:4},{name:"mixolydian",root:"B2",index:5},{name:"aeolian",aliases:["minor","natural minor"],root:"C#3",index:6},{name:"locrian",root:"D#3",index:7}],pattern:[{string:6,fret:-1},{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:1,fret:-1},{string:1,fret:0},{string:1,fret:2}]},D:{modes:[{name:"ionian",aliases:["major"],root:"D3",index:6},{name:"dorian",root:"E2",index:0},{name:"phrygian",root:"F#2",index:1},{name:"lydian",root:"G2",index:2},{name:"mixolydian",root:"A2",index:3},{name:"aeolian",aliases:["minor","natural minor"],root:"B2",index:4},{name:"locrian",root:"C#3",index:5}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2},{string:1,fret:3}]},C:{modes:[{name:"ionian",aliases:["major"],root:"C3",index:5},{name:"dorian",root:"D3",index:6},{name:"phrygian",root:"E2",index:0},{name:"lydian",root:"F2",index:1},{name:"mixolydian",root:"G2",index:2},{name:"aeolian",aliases:["minor","natural minor"],root:"A2",index:3},{name:"locrian",root:"B2",index:4}],pattern:[{string:6,fret:0},{string:6,fret:1},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:5,fret:3},{string:4,fret:0},{string:4,fret:2},{string:4,fret:3},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:1},{string:1,fret:3}]},A:{modes:[{name:"ionian",aliases:["major"],root:"A2",index:4},{name:"dorian",root:"B2",index:5},{name:"phrygian",root:"C#3",index:6},{name:"lydian",root:"D2",index:0},{name:"mixolydian",root:"E2",index:1},{name:"aeolian",aliases:["minor","natural minor"],root:"F#2",index:2},{name:"locrian",root:"G#2",index:3}],pattern:[{string:6,fret:-2},{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2}]},G:{modes:[{name:"ionian",aliases:["major"],root:"G2",index:2},{name:"dorian",root:"A2",index:3},{name:"phrygian",root:"B2",index:4},{name:"lydian",root:"C3",index:5},{name:"mixolydian",root:"D3",index:6},{name:"aeolian",aliases:["minor","natural minor"],root:"E2",index:0},{name:"locrian",root:"F#2",index:1}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:5,fret:3},{string:4,fret:0},{string:4,fret:2},{string:4,fret:4},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2},{string:1,fret:3}]}},Pn=[{modes:[{name:"ionian",aliases:["major"],root:"E2",index:0},{name:"aeolian",aliases:["minor","natural minor"],root:"C#2",index:4}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:-1},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:1},{string:2,fret:0},{string:2,fret:2},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"D3",index:4},{name:"aeolian",aliases:["minor","natural minor"],root:"B2",index:3}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:0},{string:5,fret:2},{string:4,fret:0,root:!0},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:3},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"C3",index:3},{name:"aeolian",aliases:["minor","natural minor"],root:"A2",index:2}],pattern:[{string:6,fret:0},{string:6,fret:3},{string:5,fret:0},{string:5,fret:3,root:!0},{string:4,fret:0},{string:4,fret:2},{string:3,fret:0},{string:3,fret:2},{string:2,fret:1},{string:2,fret:3},{string:1,fret:0},{string:1,fret:3}]},{modes:[{name:"ionian",aliases:["major"],root:"A2",index:2},{name:"aeolian",aliases:["minor","natural minor"],root:"F#2",index:1}],pattern:[{string:6,fret:0},{string:6,fret:2},{string:5,fret:0,root:!0},{string:5,fret:2},{string:4,fret:-1},{string:4,fret:2},{string:3,fret:-1},{string:3,fret:2},{string:2,fret:0},{string:2,fret:2},{string:1,fret:0},{string:1,fret:2}]},{modes:[{name:"ionian",aliases:["major"],root:"G2",index:1},{name:"aeolian",aliases:["minor","natural minor"],root:"E2",index:0}],pattern:[{string:6,fret:0},{string:6,fret:3},{string:5,fret:0},{string:5,fret:2},{string:4,fret:0},{string:4,fret:2},{string:3,fret:0},{string:3,fret:2},{string:2,fret:0},{string:2,fret:3},{string:1,fret:0},{string:1,fret:3}]}];function Mn({mode:t="major",root:n="C3",box:e=1}={}){const r=Pn[e-1];if(!r)throw new Error(`Cannot find box ${e} in the pentatonic scale`);const{pattern:i,modes:o}=r,a=pn({modes:o,modeName:t});if(!a)throw new Error(`Cannot find mode ${t} in the pentatonic ${e} box`);return hn({name:`Pentatonic ${t} box ${e}`,scaleTitle:`${n} ${t} pentatonic`,pattern:i,root:n,modeSchema:a})}function bn({mode:t="major",root:n="C3",box:e="C"}={}){const r=gn[e];if(!r)throw new Error(`Cannot find box ${e} in the CAGED system`);const{pattern:i,modes:o}=r,a=pn({modes:o,modeName:t});if(!a)throw new Error(`Cannot find mode ${t} in the CAGED ${e} box`);return hn({name:`CAGED ${e} box - ${n}${t}`,scaleTitle:`${n} ${t}`,pattern:i,root:n,modeSchema:a})}var yn,vn;!function(t){t.Major="Major",t.Minor="Minor",t.Phrygian="Phrygian",t.Harmonic="Harmonic",t.Lydian="Lydian"}(yn||(yn={})),function(t){t[t.Linear=0]="Linear",t[t.ThreePlusOne=1]="ThreePlusOne",t[t.TwoPlusTwo=2]="TwoPlusTwo",t[t.OnePlusThree=3]="OnePlusThree"}(vn||(vn={}));const xn={[yn.Major]:["M2","M2","m2"],[yn.Minor]:["M2","m2","M2"],[yn.Phrygian]:["m2","M2","M2"],[yn.Harmonic]:["m2","A2","m2"],[yn.Lydian]:["M2","M2","M2"]};function An({root:t,type:n,layout:e,string:r,fret:i}={root:"E",type:yn.Major,layout:vn.Linear,string:6,fret:0}){const o=xn[n],a=[{string:r,fret:i,note:t}];let s=0,m=t;if(e===vn.Linear)return o.forEach(t=>{const{semitones:n}=Ot(t);m=an(m,t),s+=n,a.push({string:r,fret:i+s,note:m})}),a;if(1===r)throw new Error("Cannot split a tetrachord over two strings if starting on the first one");let c=r;const u=(()=>{switch(e){case vn.ThreePlusOne:return 2;case vn.TwoPlusTwo:return 1;case vn.OnePlusThree:return 0}})();return o.forEach((t,n)=>{const{semitones:e}=Ot(t);m=an(m,t),n===u&&(s=2===(c-=1)?s-4:s-5);const r=i+(s+=e);if(r<0)throw new Error("Cannot use this layout from this starting fret");a.push({string:c,fret:r,note:m})}),a}function wn({box:t=[],from:n={string:6,fret:0},to:e={string:1,fret:100},action:r=(t=>t)}={}){return t.map(t=>!function({string:t,fret:r}){return!(t>n.string||t<e.string)&&(!(t===n.string&&r<n.fret)&&!(t===e.string&&r>e.fret))}(t)?t:r(t))}function _n({box:t=[],from:n={string:6,fret:0},to:e={string:1,fret:100}}={}){return wn({box:t,from:n,to:e,action:t=>Object.assign({disabled:!0},t)})}},2:function(t,n,e){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function s(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function m(t,n){for(var e={},r=[],i=0;i<t.length;i++){var o=t[i],m=n.base?o[0]+n.base:o[0],c=e[m]||0,u="".concat(m," ").concat(c);e[m]=c+1;var l=s(u),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(a[l].references++,a[l].updater(f)):a.push({identifier:u,updater:g(f,n),references:1}),r.push(u)}return r}function c(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var u,l=(u=[],function(t,n){return u[t]=n,u.filter(Boolean).join("\n")});function f(t,n,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(n,i);else{var o=document.createTextNode(i),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(o,a[n]):t.appendChild(o)}}function d(t,n,e){var r=e.css,i=e.media,o=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,p=0;function g(t,n){var e,r,i;if(n.singleton){var o=p++;e=h||(h=c(n)),r=f.bind(null,e,o,!1),i=f.bind(null,e,o,!0)}else e=c(n),r=d.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=m(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var i=s(e[r]);a[i].references--}for(var o=m(t,n),c=0;c<e.length;c++){var u=s(e[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}e=o}}}},3:function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(m," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([i]).join("\n")}var a,s,m;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var m=[].concat(t[s]);r&&i[m[0]]||(e&&(m[2]?m[2]="".concat(e," and ").concat(m[2]):m[2]=e),n.push(m))}},n}},5:function(t,n,e){"use strict";var r=e(1);document.addEventListener("DOMContentLoaded",()=>{new r.b({el:"#icon",fretCount:3,stringWidth:2,fretWidth:2,dotSize:8,dotStrokeWidth:2,leftPadding:0,rightPadding:0,topPadding:0,bottomPadding:0,width:90,height:60,showFretNumbers:!1}).render([{string:5,fret:2,note:"B"},{string:4,fret:1,note:"D#"},{string:3,fret:2,note:"A"},{string:2,fret:3,note:"Cx"}]).dots({fill:({note:t})=>"Cx"===t?"red":"white"}),document.querySelectorAll(".navbar-burger").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.target,e=document.getElementById(n);t.classList.toggle("is-active"),e.classList.toggle("is-active")})})})},6:function(t,n,e){var r=e(2),i=e(7);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},7:function(t,n,e){(n=e(3)(!1)).push([t.i,"html,\nbody {\n  font-family: 'Futura', 'Arial', sans-serif;\n  font-size: 16px;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n\nhtml {\n  box-sizing: border-box;\n  min-height: 100vh;\n  background-color: #D2E8F6;\n}\n\n.home {\n  background-color: white;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nh1 {\n  font-size: 2rem;\n  margin: 4rem 0 2rem 0;\n}\n\nh2 {\n  font-size: 1.5rem;\n  margin: 4rem 0 2rem 0;\n}\n\nh1,\nh2 {\n  color: #3273dc;\n  font-weight: bold;\n}\n\n.navbar-icon {\n  width: 37.5px;\n  height: 25px;\n  margin-right: .5rem;\n}\n\n.navbar-icon svg {\n  height: 100%;\n}\n\n.navbar .is-current {\n  color: #3273dc;\n}\n\n.navbar-brand .navbar-item {\n  flex: 1;\n}\n\n.navbar-brand img {\n  margin-right: .5rem;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 1rem;\n}\n\nfigure {\n  margin: 0;\n  position: relative;\n}\n\n.text {\n  max-width: 768px;\n}\n\n.text p {\n  margin-bottom: 2rem;\n}\n\n.text pre {\n  margin-bottom: 3rem;\n}\n\nfooter.container {\n  padding: 2rem 1rem;\n}\n\n.hero {\n  padding: 6rem 0 3rem 0;\n  background-color: #C6EDFC;\n}\n\n.hero strong {\n  color: #3273dc;\n}\n\n.hero-content {\n  font-size: 2rem;\n  line-height: 3rem;\n  margin-bottom: 2rem;\n}\n\n.api-actions {\n  margin: 0;\n  padding-top: 1.4rem;\n}\n\n.api-actions li {\n  list-style: none;\n  display: block;\n  margin: .25rem 0;\n}\n\n.api-actions .select,\n.api-actions .select select {\n  width: 100%;\n}\n\n.aside {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-top: 1.9rem;\n  padding-bottom: 4.75rem;\n}\n\n.aside p {\n  margin-bottom: 2rem;\n}\n\n.description {\n  margin-bottom: 1rem;\n}\n\n@media screen and (max-width: 768px) {\n  html {\n    font-size: 12px;\n    width: 100vw;\n  }\n\n  html.has-navbar-fixed-top {\n    padding-top: 3.25em;\n  }\n\n  .container {\n    width: 100vw;\n    overflow-x: hidden;\n    padding: 1rem;\n  }\n\n  .text {\n    max-width: 100%;\n  }\n\n  .hero {\n    padding-top: 2rem;\n  }\n\n  .hero-content {\n    font-size: 1.2rem;\n    line-height: 2.5rem;\n  }\n\n  .api-actions li {\n    display: block;\n    margin-bottom: 1rem;\n  }\n\n  .api-actions li button {\n    width: 100%;\n  }\n}\n\n@media screen and (max-width: 768px) and (orientation: portrait) {\n  figure svg {\n    width: 200%;\n  }\n}\n\n.controls {\n  margin: 2rem 0 0 0;\n  padding: 0 1rem;\n  line-height: 1.5rem;\n  text-align: center;\n}\n\n.controls .modes .radio {\n  margin-right: 1rem;\n}\n\n.boxes {\n  padding-top: 2rem;\n}\n\n.boxes .radio {\n  display: block;\n  margin: 0;\n  line-height: 2rem;\n}\n\n@media screen and (max-width: 768px) {\n  .column {\n    overflow-y: auto;\n  }\n  .controls .modes .radio{\n    display: block;\n    margin: 0;\n    line-height: 2.5rem;\n    font-size: 1.2rem;\n  }\n}\n",""]),t.exports=n},97:function(t,n,e){"use strict";e.r(n);var r=e(1);e(5),e(6);const i={height:200,stringsWidth:1.5,dotSize:25,fretCount:16,fretsWidth:1.2,font:"Futura"};document.addEventListener("DOMContentLoaded",()=>{const t={lowerTetrachordType:r.d.Major,lowerTetrachordLayout:r.c.ThreePlusOne,upperTetrachordType:r.d.Major,upperTetrachordLayout:r.c.ThreePlusOne},n=Object(r.g)({root:"E",string:5,fret:7,type:r.d.Major,layout:r.c.ThreePlusOne}),e=Object(r.g)({root:"B",string:4,fret:9,type:r.d.Major,layout:r.c.ThreePlusOne}),o=new r.b({...i,el:"#fretboard",dotText:({note:t})=>t});o.render([...n,...e]).dots({fill:(t,n)=>n<4?"yellow":"pink"}),document.querySelector(".api-actions").querySelectorAll("select").forEach(n=>n.addEventListener("change",n=>{const{name:e,value:i}=n.target;t[e]=i,o.render([...Object(r.g)({root:"E",string:5,fret:7,type:t.lowerTetrachordType,layout:+t.lowerTetrachordLayout}),...Object(r.g)({root:t.upperTetrachordType===r.d.Lydian?"Bb":"B",string:4,fret:t.upperTetrachordType===r.d.Lydian?8:9,type:t.upperTetrachordType,layout:+t.upperTetrachordLayout})]).dots({fill:(t,n)=>n<4?"yellow":"pink"})}))})}});